<!DOCTYPE html>
<html lang="en">
  <head>
			<meta charset="utf-8">
			<meta http-equiv="X-UA-Compatible" content="IE=edge">
			<meta name="viewport" content="width=device-width, initial-scale=1">
			<title>Inputs</title>

			         <!-- Bootstrap core CSS -->

			<link href="https://getbootstrap.com/docs/3.3/dist/css/bootstrap.min.css" rel="stylesheet">

			    <!-- Tufte-->
			<link rel="stylesheet" href="https://edwardtufte.github.io/tufte-css/tufte.css"/>
			<link rel="stylesheet" href="https://edwardtufte.github.io/tufte-css/latex.css"/>

			<style>
				td {
					cursor: pointer;
					padding: 10px;
					border-left: solid;	
					border-top: solid;
					border-right: solid;
					border-bottom: solid;
					margin: 5px;
					text-align: center;
				}
				
				.COL {
				color: pink;
				}	

			</style>


</head>
<body>
	<article><section>

		<h2>This will illustrate querySelectorAll</h2>
		<h2>the table below will be used for an example</h2>
		<p>--this is to allow insertion of multiple consecutive event listeners and allow them to use their respective indices</p>
		<table>
			<thead>
				<tr>
					<th>Column1</th>
					<th>Column2</th>
					<th>Column3</th>
					<tbody>
						<tr>
							<td>A</td>
							<td>B</td>
							<td>C</td>
						</tr>
						<tr>
							<td>D</td>
							<td>E</td>
							<td>F</td>
						</tr>
						<tr>
							<td>G</td>
							<td>H</td>
							<td>I</td>
						</tr>
					</tbody>
				</tr>
			</thead>
		</table>
        
        <h3>Instructions </h3>
        <p><input type="checkbox" id="mn-figure-1" class="margin-toggle"/><span class="marginnote">Here is a <a href="https://www.nickang.com/add-event-listener-for-loop-problem-in-javascript/" target="_blank">reference</a> for this</span></p>
        <ul>
		<li>view source to see HTML</li>
		<li>In the HTML, note script tag, which defines Cells as a collection of all td's</li>
		<li>Below that, there is a short script that adds an event listener to each td, and displays its innerHTML</li>
		<li>the commented out line below the line that adds event listener will use the index and display it</li>
        </ul>
		

    </section>
	<hr>
	<section>


		
	<h2>Example:  use of number input, button, addEventListener, removeEventListener, toggle class</h2>
	<h1><span id="score1" class='t'></span> to <span id="score2" class='t' ></span></h1>
	
	<h3>Playing to: <span id="topscore"></span></h3>


	<input id="mySelect" type="number" value="0" onclick="TopScore()" autocomplete="off">     <!-- https://stackoverflow.com/questions/1799899/html-input-value-kept-after-refresh -->

	<input id="player1" type="button" value="player1">
	<input id="player2" type="button" value="player2">
	<input id='reset' type="button" value="reset">
    
    <!-- ----------------------- -->
	<hr style="margin-top: 100px">
	<h2>Example: add arguments to function inside an eventlistener using a secondary function
	</h2>
     
    <form >
    <textarea name="textarea" id="textarea" cols="10" rows="5" placeholder="put in a number; it will be multiplied by 2"  autocomplete="off"></textarea>
	<input type="button" id="testArg" value="click to test Argument in addEventListener" style="margin-top: 100px; width:300px">
	</form>
    <p id='demo'></p>




    
    </section>
	
	</article>

	<script>

	var Cells = document.querySelectorAll("td")

	Cells.forEach(function(cell,index) {
		cell.addEventListener("click", function(){alert(cell.innerHTML)});
		// cell.addEventListener("click", f = () => alert(index));
	});

	// Cells[0].addEventListener("click", f = () => console.log(Cells[0].innerHTML))

	</script>

<script>
		//selection will change to in h3 based on its value (take value from myselect and put in h3 span)


		var count1 = 0
		document.getElementById("score1").innerHTML = count1
		var count2 = 0
		document.getElementById("score2").innerHTML = count2



        document.querySelector("#player1").addEventListener("click",  f1 )
		document.querySelector("#player2").addEventListener("click",  f2 ) 
  

  		function f1() {count1 = count1 + 1; document.getElementById("score1").innerHTML = count1
  		     if (count1 == document.querySelector("#mySelect").value) { 
  		     	document.querySelector("#player1").removeEventListener("click", f1)
				document.querySelector("#player2").removeEventListener("click", f2)
				document.querySelector("#score1").style.color = "pink"
				}
			}

  														
  		function f2() {count2 = count2 + 1; document.getElementById("score2").innerHTML = count2
  		     if (count2== document.querySelector("#mySelect").value) { 
  		     	document.querySelector("#player1").removeEventListener("click", f1)
				document.querySelector("#player2").removeEventListener("click", f2)
				document.querySelector("#score2").style.color = "pink"
				}
  			}



		function TopScore() {
            var Select = document.querySelector("#mySelect").value
			document.getElementById("topscore").innerHTML = Select
        }


        
		document.querySelector("#reset").addEventListener("click", f)
		function f() {
			document.getElementById("score1").innerHTML = 0;
			document.getElementById("score2").innerHTML = 0;
			document.querySelector("#score1").style.color ="black"
			document.querySelector("#score2").style.color = "black"
		}


		document.querySelector("#reset").addEventListener("mouseover", TOGGLE)
		function TOGGLE() {
			document.querySelector("#score1").classList.toggle("COL");
		}
		

	</script>



    <script>
    	X = document.querySelector("#testArg")

    	X.addEventListener("click", function(){g(document.getElementById("textarea").value)})

    	function g(n){alert(2*n)}
    </script>

  
</body>
</html>

